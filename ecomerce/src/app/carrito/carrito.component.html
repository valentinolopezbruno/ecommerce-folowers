<!-- SI HAY PRODUCTOS EN EL CARRITO -->
<h2 style="text-align: cemter;
font-size: 30px;">Carrito de Compras</h2>

<!-- Tu archivo HTML del componente Angular -->

<!-- Tu archivo HTML del componente Angular -->

<mat-card style="max-width: 100%; margin: 20px auto; box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);">
  <table mat-table [dataSource]="datosEntrada" style="width: 100%; display: block;">
    <ng-container matColumnDef="redsocialimg">
      <th mat-header-cell *matHeaderCellDef>Red Social</th>
      <td mat-cell *matCellDef="let elemento">
        <img
          src="{{ elemento.productoimg }}"
          alt="redsocialimg"
          style="width: 70px; margin: 5px 0; display: block;"
        />
      </td>
    </ng-container>

    <ng-container matColumnDef="producto">
      <th mat-header-cell *matHeaderCellDef>Producto</th>
      <td mat-cell *matCellDef="let elemento">
        <span style="max-width: 20rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; display: block;">
          {{ elemento.producto }}
        </span>
      </td>
    </ng-container>

    <ng-container matColumnDef="precio">
      <th mat-header-cell *matHeaderCellDef>Precio</th>
      <td mat-cell *matCellDef="let elemento">
        {{ elemento.precio | currency }}
      </td>
    </ng-container>

    <ng-container matColumnDef="cantidad">
      <th mat-header-cell *matHeaderCellDef>Cantidad</th>
      <td mat-cell *matCellDef="let elemento">
        <span>{{ elemento.cantidad }}</span>
      </td>
    </ng-container>

    <ng-container matColumnDef="total">
      <th mat-header-cell *matHeaderCellDef>Total</th>
      <td mat-cell *matCellDef="let elemento">
        {{ elemento.precio * elemento.cantidad | currency }}
      </td>
    </ng-container>

    <ng-container matColumnDef="accion">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let elemento">
        <button
          (click)="eliminarProducto(elemento)"
          mat-mini-fab
          color="warn"
          style="margin-left: 10px;"
        >
          <mat-icon>close</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-row *matRowDef="let eow; columns: displayColumnas" style="display: flex; flex-wrap: wrap;"></tr>
  </table>

  <div *ngIf="carrito.productos.length" style="text-align: right; padding: 10px;">
    <button (click)="limpiarCarrito()" mat-button color="warn" style="margin-right: 10px;">
      Borrar Todo
    </button>
    <!-- SI MONEDA ACTUAL ES FALSO PAGA CON MP -->
    <div *ngIf="!monedaActual">
      <button mat-button color="primary" (click)="pagarMP()" style="margin-top: 10px;">
        Terminar Compra (MP)
      </button>
    </div>
    <!-- SI MONEDA ACTUAL ES TRUE PAGA CON PAYPAL -->
    <div *ngIf="monedaActual">
      <button mat-button color="primary" (click)="pagarPaypal()" style="margin-top: 10px;">
        Terminar Compra (PayPal)
      </button>
    </div>
  </div>
  <div style="text-align: right; padding: 10px; font-weight: bold;">
    Total: {{ getTotal(carrito.productos) | currency }}
  </div>
</mat-card>

<!-- SI EL CARRITO SE ENCUENTRA VACIO... -->
<mat-card *ngIf="!carrito.productos.length" style="max-width: 100%; margin: 20px auto; box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);">
  <p style="text-align: center; padding: 20px;">
    Su carrito está vacío.
    <button mat-button color="primary" routerLink="/home" style="margin-top: 10px;">
      Click para seleccionar productos
    </button>
  </p>
</mat-card>




<div id="wallet_container"></div>
<script src="https://sdk.mercadopago.com/js/v2"></script>
