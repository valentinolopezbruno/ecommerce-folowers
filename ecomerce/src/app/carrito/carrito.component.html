<!-- SI HAY PRODUCTOS EN EL CARRITO -->
<mat-card
  *ngIf="carrito.productos.length"
  style="max-width: 700vw; margin-left: auto; margin-right: auto"
>
  <table
    mat-table
    [dataSource]="datosEntrada"
    style="box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2); width: 100%"
  >
    <ng-container matColumnDef="redsocialimg">
      <th mat-header-cell *matHeaderCellDef style="text-align: left">
        Red Social
      </th>
      <td mat-cell *matCellDef="let elemento">
        <img
          src="{{ elemento.productoimg }}"
          alt="redsocialimg"
          style="width: 100px; margin-top: 5px; margin-bottom: 5px"
        />
      </td>
      <td mat-footer-cell *matFooterCellDef>
        <button mat-raised-button routerLink="/home">
          Agregar más productos
        </button>
      </td>
    </ng-container>

    <ng-container matColumnDef="producto">
      <th mat-header-cell *matHeaderCellDef>Producto</th>
      <td mat-cell *matCellDef="let elemento">
        <span
          style="
            max-width: 20rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            display: block;
          "
          >{{ elemento.producto }}</span
        >
      </td>
      <td mat-footer-cell *matFooterCellDef></td>
    </ng-container>

    <ng-container matColumnDef="precio">
      <th mat-header-cell *matHeaderCellDef>Precio</th>
      <td mat-cell *matCellDef="let elemento">
        {{ elemento.precio | currency }}
      </td>
      <td mat-footer-cell *matFooterCellDef></td>
    </ng-container>

    <ng-container matColumnDef="cantidad">
      <th mat-header-cell *matHeaderCellDef>Cantidad</th>
      <td mat-cell *matCellDef="let elemento">
        <span>{{ elemento.cantidad }} </span>
      </td>
      <td mat-footer-cell *matFooterCellDef></td>
    </ng-container>

    <ng-container matColumnDef="total">
      <th mat-header-cell *matHeaderCellDef>Total</th>
      <td mat-cell *matCellDef="let elemento">
        {{ elemento.precio | currency }}
      </td>
      <td mat-footer-cell *matFooterCellDef>
        <span
          style="
            font-weight: bold;
            padding-top: 1.25rem;
            padding-bottom: 1.25rem;
            display: block;
          "
          >{{ getTotal(carrito.productos) | currency }}</span
        >
      </td>
    </ng-container>

    <ng-container matColumnDef="accion">
      <th mat-header-cell *matHeaderCellDef>
        <button
          (click)="limpiarCarrito()"
          mat-raised-button
          color="warn"
          style="float: right"
        >
          Borrar Todo
        </button>
      </th>
      <td mat-cell *matCellDef="let elemento">
        <button
          (click)="eliminarProducto(elemento)"
          mat-mini-fab
          color="warn"
          style="float: right"
        >
          <mat-icon>close</mat-icon>
        </button>
      </td>
      <td mat-footer-cell *matFooterCellDef>
        <button mat-raised-button color="primary" style="float: right" (click)="pagarPaypal()" >
          
          Terminar Compra
        </button>
        <br>
        <br>
        <br>
        <!-- <ngx-paypal [config]="payPalConfig"></ngx-paypal> -->
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayColumnas"></tr>
    <tr mat-row *matRowDef="let eow; columns: displayColumnas"></tr>
    <tr mat-footer-row *matFooterRowDef="displayColumnas"></tr>
  </table>
</mat-card>

<!-- SI EL CARRITO SE ENCUENTRA VACIO... -->
<mat-card *ngIf="!carrito.productos.length">
  <p>
    Su carrito esta vacío.
    <button mat-raised-button routerLink="/home">
      Click para seleccionar productos
    </button>
  </p>
</mat-card>
<div id="wallet_container"></div>
<script src="https://sdk.mercadopago.com/js/v2"></script>
